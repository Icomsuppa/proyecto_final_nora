<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chat Multicast</title>
  <link rel="stylesheet" href="../static/app.css">
</head>
<body>
  <div class="container">
    <h2>Chat Multicast (LAN)</h2>

    <div class="chat-wrapper">
      <div class="connection-section">
        <label>
          <span>Nombre:</span>
          <input id="username" value="{{ user.full_name }}" readonly />
        </label>
        <button id="btnConnect">Conectar</button>
      </div>

      <!-- (MODIFICADO) Este es el div que el nuevo app.js espera -->
      <div id="messages" class="messages-area" aria-live="polite"></div>

      <div id="controls">
        <input id="input" placeholder="Escribe un mensaje..." />
        <button id="send">Enviar</button>
        
        <!-- (AGREGADO) Botón 'oculto' que se activa con el label -->
        <input type="file" id="imageInput" accept="image/png, image/jpeg" style="display: none;"/>
        <!-- (AGREGADO) Este es el botón que el usuario ve -->
        <button id="sendImageBtn">Subir Foto</button>
        
        <button id="getTime">Pedir hora (y comparar)</button>
      </div>
    </div>
  </div>

  <!-- (AGREGADO) Cargamos el nuevo script ANTES de app.js -->
  <script src="../static/image_resizer.js"></script>
  <script src="../static/app.js"></script>
</body>
</html>